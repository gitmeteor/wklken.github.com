<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>wklken's blog - mysql</title><link href="http://www.wklken.me/" rel="alternate"></link><link href="http://www.wklken.me/feeds/mysql.atom.xml" rel="self"></link><id>http://www.wklken.me/</id><updated>2013-08-11T00:00:00+08:00</updated><entry><title>Mysql基础笔记</title><link href="http://www.wklken.me/posts/2013/08/11/mysql-base.html" rel="alternate"></link><published>2013-08-11T00:00:00+08:00</published><updated>2013-08-11T00:00:00+08:00</updated><author><name>wklken</name></author><id>tag:www.wklken.me,2013-08-11:/posts/2013/08/11/mysql-base.html</id><summary type="html">&lt;p&gt;update: 2013-08-11, 笔记录了一半不到，还没码完....&amp;gt;&amp;lt;
update: 2013-11-23, DONE&lt;/p&gt;
&lt;p&gt;mysql速查&lt;/p&gt;
&lt;p&gt;参考： Mysql必知必会,网络blog, stackoverflow&lt;/p&gt;
&lt;p&gt;注； 基础部分sql参考 《mysql必知必会》, 还不错的一本书，菜鸟入门级，需要的话可以入手&lt;/p&gt;
&lt;p&gt;在浏览器中使用查找&lt;/p&gt;
&lt;p&gt;寻找一个好的mysql开源gui工具&lt;/p&gt;
&lt;h2 id="huan-jing-pei-zhi"&gt;环境配置&lt;/h2&gt;
&lt;p&gt;ubuntu安装mysql&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install mysql-server mysql-client&lt;/span&gt;
&lt;span class="code-line"&gt;netstat -nltp | grep mysql&lt;/span&gt;
&lt;span class="code-line"&gt;配置文件 /etc/mysql/my.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ji-ben-gai-nian"&gt;基本概念&lt;/h2&gt;
&lt;p&gt;数据库基础：&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;InnoDB是一个可靠地事务处理引擎，不支持全文本搜索&lt;/span&gt;
&lt;span class="code-line"&gt;MyISAM是一个性能极高的引擎，支持全文本搜索，不支持事务处理&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;数据库-database&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;保存有组织的数据的容器（通常是一个文件或一组文件）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;表-table&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;某种特定类型数据的结构化清单&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;模式-schema&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;关于数据库和表的布局及特性的信息 …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;update: 2013-08-11, 笔记录了一半不到，还没码完....&amp;gt;&amp;lt;
update: 2013-11-23, DONE&lt;/p&gt;
&lt;p&gt;mysql速查&lt;/p&gt;
&lt;p&gt;参考： Mysql必知必会,网络blog, stackoverflow&lt;/p&gt;
&lt;p&gt;注； 基础部分sql参考 《mysql必知必会》, 还不错的一本书，菜鸟入门级，需要的话可以入手&lt;/p&gt;
&lt;p&gt;在浏览器中使用查找&lt;/p&gt;
&lt;p&gt;寻找一个好的mysql开源gui工具&lt;/p&gt;
&lt;h2 id="huan-jing-pei-zhi"&gt;环境配置&lt;/h2&gt;
&lt;p&gt;ubuntu安装mysql&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install mysql-server mysql-client&lt;/span&gt;
&lt;span class="code-line"&gt;netstat -nltp | grep mysql&lt;/span&gt;
&lt;span class="code-line"&gt;配置文件 /etc/mysql/my.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ji-ben-gai-nian"&gt;基本概念&lt;/h2&gt;
&lt;p&gt;数据库基础：&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;InnoDB是一个可靠地事务处理引擎，不支持全文本搜索&lt;/span&gt;
&lt;span class="code-line"&gt;MyISAM是一个性能极高的引擎，支持全文本搜索，不支持事务处理&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;数据库-database&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;保存有组织的数据的容器（通常是一个文件或一组文件）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;表-table&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;某种特定类型数据的结构化清单&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;模式-schema&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;关于数据库和表的布局及特性的信息&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;列-column&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;表中的一个字段，所有表都是由一个或多个列组成的&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;数据类型-datatype&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;所容许的数据的类型。每个表列都有相应的数据类型，它限制（或容许）该列中存储的数据&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;行-row&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;表中的一个记录&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;主键-primary key&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;一列或一组列，其值能够唯一区分表中的每个行&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="mysqlming-ling-xing"&gt;mysql命令行&lt;/h2&gt;
&lt;h3 id="jin-ru"&gt;进入&lt;/h3&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;输入： mysql&lt;/span&gt;
&lt;span class="code-line"&gt;或者   mysql -u ken&lt;/span&gt;
&lt;span class="code-line"&gt;       mysql -u ken -p -h myserver -P 9999 【给出用户名，主机名，端口】&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;获取帮助: mysql --help&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;命令格式和说明：&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1.命令必须；或\g结束，仅Enter不执行明林&lt;/span&gt;
&lt;span class="code-line"&gt;2.help 或\h获得帮助&lt;/span&gt;
&lt;span class="code-line"&gt;3.quit或exit退出&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以用GUI工具&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;MySQL Administrator&lt;/span&gt;
&lt;span class="code-line"&gt;MySQL Query Browser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="use"&gt;use&lt;/h3&gt;
&lt;p&gt;创建库:&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE DATABASE MYSQLDATA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用某个库&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;use db_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="show"&gt;show&lt;/h3&gt;
&lt;p&gt;查看所有数据库&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;show databases;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;列出库中所有表&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;use db_name;&lt;/span&gt;
&lt;span class="code-line"&gt;show tables;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;列出表的所有列信息&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;show columns from table_name;&lt;/span&gt;
&lt;span class="code-line"&gt;or&lt;/span&gt;
&lt;span class="code-line"&gt;desc table_name;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示创建的sql语句&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;show create database db_name;&lt;/span&gt;
&lt;span class="code-line"&gt;show create table table_name;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其他&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;show status  服务器状态信息&lt;/span&gt;
&lt;span class="code-line"&gt;show grants  显示授权用户&lt;/span&gt;
&lt;span class="code-line"&gt;show errors/show warnings 显示服务器错误或警告信息&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="cha-xun_1"&gt;查询&lt;/h2&gt;
&lt;p&gt;SELECT子句顺序&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;SELECT&lt;/span&gt;
&lt;span class="code-line"&gt;FROM&lt;/span&gt;
&lt;span class="code-line"&gt;WHERE&lt;/span&gt;
&lt;span class="code-line"&gt;GROUP BY&lt;/span&gt;
&lt;span class="code-line"&gt;HAVING&lt;/span&gt;
&lt;span class="code-line"&gt;ORDER BY&lt;/span&gt;
&lt;span class="code-line"&gt;LIMIT&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="select"&gt;select&lt;/h3&gt;
&lt;p&gt;检索单个列&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col FROM tb_name;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;多个列&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;检索所有列&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT *&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name;&lt;/span&gt;
&lt;span class="code-line"&gt;#除非确认要用到所有列&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;检索去重&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT DISTINCT col&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;限制结果数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; LIMIT 5;&lt;/span&gt;
&lt;span class="code-line"&gt;返回不多于五行&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; LIMIT 5, 5&lt;/span&gt;
&lt;span class="code-line"&gt; 第一个为开始位置，初始为0.第二个为显示个数&lt;/span&gt;
&lt;span class="code-line"&gt;等价于LIMIT 5 OFFSET 5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="order-by"&gt;order by&lt;/h3&gt;
&lt;p&gt;按某个字段排序&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; ORDER BY col1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;按多列排序&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2, col3&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; ORDER BY col1, col2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;指定排序方向（升序降序）&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; ORDER BY col1 DESC;【默认ASC】&lt;/span&gt;
&lt;span class="code-line"&gt;注意：如果想在多个列上排序，必须对每个列使用DESC&lt;/span&gt;
&lt;span class="code-line"&gt;注意：ORDER BY必须放在LIMIT之前&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="where"&gt;where&lt;/h3&gt;
&lt;p&gt;过滤&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 = 2.5;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;过滤不匹配&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 &amp;lt;&amp;gt; 1000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;范围检查&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1, col2&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 BETWEEN 5 AND 10&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;空值检查&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col2 IS NULL&lt;/span&gt;
&lt;span class="code-line"&gt;NULL, 无值，它与字段包含0，空字符串或仅仅包含空格不同&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;多条件，组合and&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1=100 AND col2 &amp;lt;= 10&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;多条件, 组合or&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1=100 OR col2 &amp;lt;= 10&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;优先级 and 大于 or, 先处理的and,所以应该适当使用括号&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;select prod_id from products where (prod_price &amp;lt; 2.5 or vend_id = 1000) and prod_price &amp;gt; 1;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;指定查询范围, in操作符&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 IN (1001,1002)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;取反，not操作符&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 NOT IN (1001,1002)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;操作符&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;=&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;!=&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;=&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;=&lt;/span&gt;
&lt;span class="code-line"&gt;between A and B&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="like"&gt;like&lt;/h3&gt;
&lt;p&gt;通配&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 LIKE ‘jet%’&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;%匹配0个或多个字符&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;单个字符&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 LIKE ‘_ ton anvil’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="shu-ju-guo-lu-regexp"&gt;数据过滤regexp&lt;/h3&gt;
&lt;p&gt;正则搜索&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt;FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt;WHERE col1 REGEXP ‘1000’&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;REGEXP ‘.000’&lt;/span&gt;
&lt;span class="code-line"&gt;REGEXP对列值匹配&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;进行or匹配&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 REGEXP ‘1000|2000’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;几个之一&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;select prod_id from products where prod_name regexp '[1|2]000';&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;匹配范围&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;select prod_id from products where prod_name regexp '[1-5]000';&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;匹配特殊字符，\ 进行转义&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;必须使用\\为前导。 \\-&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE col1 REGEXP ‘\\.’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;like和 regexp&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;like整列匹配&lt;/span&gt;
&lt;span class="code-line"&gt;regexp 列值内匹配&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="concat"&gt;concat&lt;/h3&gt;
&lt;p&gt;拼接字符&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT Concat(name, ‘ ----‘, age)&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;去除空白&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT Rtrim(name)&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Ltrim() Trim()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用列名&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT Concat(name, ‘---‘, age) AS info&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;算术计算&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT quantity * item_price AS total_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;支持+ - * /&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="wen-ben-han-shu"&gt;文本函数&lt;/h3&gt;
&lt;p&gt;文本处理函数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;left()  串左边字符&lt;/span&gt;
&lt;span class="code-line"&gt;length() 串长度&lt;/span&gt;
&lt;span class="code-line"&gt;locate() 找出串的一个子串&lt;/span&gt;
&lt;span class="code-line"&gt;lower() 转为小写&lt;/span&gt;
&lt;span class="code-line"&gt;ltrim() 去掉左边空格&lt;/span&gt;
&lt;span class="code-line"&gt;right() 返回串右边字符&lt;/span&gt;
&lt;span class="code-line"&gt;rtrim() 去掉串右边空格&lt;/span&gt;
&lt;span class="code-line"&gt;soundex() 返回字符串soundex值&lt;/span&gt;
&lt;span class="code-line"&gt;upper() 大写&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;eg&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT Upper(name)&lt;/span&gt;
&lt;span class="code-line"&gt;FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="ri-qi-han-shu"&gt;日期函数&lt;/h3&gt;
&lt;p&gt;日期和时间处理函数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;adddate() 增加一个日期-天或周&lt;/span&gt;
&lt;span class="code-line"&gt;addtime() 增加一个时间&lt;/span&gt;
&lt;span class="code-line"&gt;curdate() 返回当前日期&lt;/span&gt;
&lt;span class="code-line"&gt;curtime() 返回当前时间&lt;/span&gt;
&lt;span class="code-line"&gt;date() 返回日期时间的日期部分&lt;/span&gt;
&lt;span class="code-line"&gt;datediff() 计算两个日期差&lt;/span&gt;
&lt;span class="code-line"&gt;date_add() 高度灵活的日期运算函数&lt;/span&gt;
&lt;span class="code-line"&gt;date_format() 返回一个格式化的日期或时间串&lt;/span&gt;
&lt;span class="code-line"&gt;day() 返回一个日期的天数部分&lt;/span&gt;
&lt;span class="code-line"&gt;dayofweek() 对于一个日期，返回对应的星期几&lt;/span&gt;
&lt;span class="code-line"&gt;hour()&lt;/span&gt;
&lt;span class="code-line"&gt;minute()&lt;/span&gt;
&lt;span class="code-line"&gt;month()&lt;/span&gt;
&lt;span class="code-line"&gt;now() 当前日期和时间&lt;/span&gt;
&lt;span class="code-line"&gt;second()&lt;/span&gt;
&lt;span class="code-line"&gt;time() 当前日期时间的时间部分&lt;/span&gt;
&lt;span class="code-line"&gt;year()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;eg&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT col1&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE Date(order_date) = ‘2005-09-01’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;常用日期和时间函数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Date()返回日期时间的日期部分&lt;/span&gt;
&lt;span class="code-line"&gt;Day()返回日期的天数部分&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="shu-zhi-han-shu"&gt;数值函数&lt;/h3&gt;
&lt;p&gt;数值处理函数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;abs()&lt;/span&gt;
&lt;span class="code-line"&gt;cos()&lt;/span&gt;
&lt;span class="code-line"&gt;exp() 指数&lt;/span&gt;
&lt;span class="code-line"&gt;mod()&lt;/span&gt;
&lt;span class="code-line"&gt;pi() 返回圆周率&lt;/span&gt;
&lt;span class="code-line"&gt;rand() 随机数&lt;/span&gt;
&lt;span class="code-line"&gt;sin()&lt;/span&gt;
&lt;span class="code-line"&gt;sqrt()&lt;/span&gt;
&lt;span class="code-line"&gt;tan()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="ju-ji-han-shu"&gt;聚集函数&lt;/h3&gt;
&lt;p&gt;avg 平均&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT AVG(price) AS avg_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;count 计数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;select count(*) from products; #无论Null还是非空，均纳入计数&lt;/span&gt;
&lt;span class="code-line"&gt;select count(prod_id) from products; #计数有值记录，忽略NULL值&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;max 最大&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT MAX(price) AS max_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;min 最小&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT MIN(price) AS min_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;sum 求和&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT SUM(quantity) AS total&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt;#sum函数忽略值为NULL的行&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="group"&gt;group&lt;/h3&gt;
&lt;p&gt;group&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT id, COUNT(*) AS num_prods&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; GROUP BY id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意：&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1.group by 可以包含任意数目的列&lt;/span&gt;
&lt;span class="code-line"&gt;2.group by 中每个列都必须是检索列或有效的表达式（但不能使聚集函数）&lt;/span&gt;
&lt;span class="code-line"&gt;3.除聚集函数外，select语句中的每个列都必须在group by子句中出现&lt;/span&gt;
&lt;span class="code-line"&gt;4.如果分组列有Null值，Null将作为一个分组返回&lt;/span&gt;
&lt;span class="code-line"&gt;5.group by 子句必须出现在where子句之后, order by 之前&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;过滤分组&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT cust_id, COUNT(*) AS orders&lt;/span&gt;
&lt;span class="code-line"&gt; FROM orders&lt;/span&gt;
&lt;span class="code-line"&gt; GROUP BY cust_id&lt;/span&gt;
&lt;span class="code-line"&gt; HAVING COUNT(*) &amp;gt; 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;where和having区别&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;where在分组前过滤，having在分组后过滤&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="zi-cha-xun"&gt;子查询&lt;/h3&gt;
&lt;p&gt;1.用于过滤&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT cust_id&lt;/span&gt;
&lt;span class="code-line"&gt; FROM orders&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE order_num IN (SELECT order_num&lt;/span&gt;
&lt;span class="code-line"&gt;                    FROM orderitems)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.作为字段&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT cust_name,&lt;/span&gt;
&lt;span class="code-line"&gt;       cust_state,&lt;/span&gt;
&lt;span class="code-line"&gt;       (SELECT COUNT(*)&lt;/span&gt;
&lt;span class="code-line"&gt;        FROM orders&lt;/span&gt;
&lt;span class="code-line"&gt;        WHERE orders.cust_id = customers.cust_id) AS orders&lt;/span&gt;
&lt;span class="code-line"&gt; FROM customers&lt;/span&gt;
&lt;span class="code-line"&gt; ORDER BY cust_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="lian-jie-biao"&gt;联结表&lt;/h3&gt;
&lt;p&gt;1.创建联结&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT vend_name, prod_name, prod_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM vendors, products&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE vendors.vend_id = products.vend_id&lt;/span&gt;
&lt;span class="code-line"&gt; ORDER BY vend_name, prod_name;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可进行联结多个表&lt;/p&gt;
&lt;p&gt;2.内部联结&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT vend_name,prod_name,prod_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM vendors INNER JOIN products ON vendors.vend_id = products.vend_id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="gao-ji-lian-jie-biao"&gt;高级联结表&lt;/h3&gt;
&lt;p&gt;1.自联结&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT prod_id, prod_name&lt;/span&gt;
&lt;span class="code-line"&gt; FROM products&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE vend_id = (SELECT vend_id FROM products&lt;/span&gt;
&lt;span class="code-line"&gt;                WHERE prod_id = ‘DTNTR’)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;等价于&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT p1.prod_id, p1.prod_name&lt;/span&gt;
&lt;span class="code-line"&gt; FROM products AS p1, products AS p2&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE p1.vend_id = p2.vend_id&lt;/span&gt;
&lt;span class="code-line"&gt;        AND p2.prod_id = ‘DTNTR’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.外部联结&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT customers.cust_id, orders.order_num&lt;/span&gt;
&lt;span class="code-line"&gt; FROM customers LEFT OUTER JOIN orders&lt;/span&gt;
&lt;span class="code-line"&gt;      ON customers.cust_id = orders.cust_id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="zu-he-cha-xun"&gt;组合查询&lt;/h3&gt;
&lt;p&gt;1.UNION&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT vend_id, prod_id, prod_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM products&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE prod_price &amp;lt;=5&lt;/span&gt;
&lt;span class="code-line"&gt; UNION&lt;/span&gt;
&lt;span class="code-line"&gt; SELECT vend_id, prod_id, prod_price&lt;/span&gt;
&lt;span class="code-line"&gt; FROM products&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE vend_id IN (1001,1002)&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;UNION自动去除重复行&lt;/span&gt;
&lt;span class="code-line"&gt;UNION ALL 保留&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.放在UNION后的排序语句&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;对所有SELECT生效&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="quan-wen-ben-sou-suo"&gt;全文本搜索&lt;/h3&gt;
&lt;p&gt;MyISAM 支持全文本搜索&lt;/p&gt;
&lt;p&gt;InnoDB不支持全文本搜索&lt;/p&gt;
&lt;p&gt;1.启用&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TABLE productnotes(&lt;/span&gt;
&lt;span class="code-line"&gt; note_id int NOT NULL AUT_INCREMENT,&lt;/span&gt;
&lt;span class="code-line"&gt; note_text text NULL,&lt;/span&gt;
&lt;span class="code-line"&gt; FULLTEXT(note_text)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.进行全文本搜索&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT note_text&lt;/span&gt;
&lt;span class="code-line"&gt; FROM tb_name&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE Match(note_text) Against(‘rabbit’)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.布尔文本搜索&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT note_text&lt;/span&gt;
&lt;span class="code-line"&gt; FROM productontes&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE Match(note_text) Against(‘heavy’ IN BOOLEAN MODE)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="cha-ru-shu-ju_1"&gt;插入数据&lt;/h2&gt;
&lt;p&gt;1.基本插入&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;INSERT INTO customers(cust_name,&lt;/span&gt;
&lt;span class="code-line"&gt;                     cust_address)&lt;/span&gt;
&lt;span class="code-line"&gt; VALUES(‘Pep’, ‘100 main street’)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.插入多行&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;INSERT INTO customers(cust_name,&lt;/span&gt;
&lt;span class="code-line"&gt;                     cust_address)&lt;/span&gt;
&lt;span class="code-line"&gt; VALUES(‘Pep’, ‘100 main street’),&lt;/span&gt;
&lt;span class="code-line"&gt;       (‘Tim’, ‘200 main Street’);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.插入检索出来的数据&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;INSERT INTO customers(cust_name,&lt;/span&gt;
&lt;span class="code-line"&gt;                     cust_address)&lt;/span&gt;
&lt;span class="code-line"&gt; SELECT cust_name, custaddress&lt;/span&gt;
&lt;span class="code-line"&gt; FROM custnew;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="geng-xin"&gt;更新&lt;/h2&gt;
&lt;p&gt;1.更新行&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;UPDATE customers&lt;/span&gt;
&lt;span class="code-line"&gt; SET cust_email = ‘a@fudd.com’&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE cust_id = 10005&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.即使发生错误也继续进行而不是退出&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;UPDATE IGNORE customers&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="shan-chu"&gt;删除&lt;/h2&gt;
&lt;p&gt;1.删除数据&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;DELETE FROM customers&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE cust_id = 10006&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="biao-cao-zuo"&gt;表操作&lt;/h2&gt;
&lt;p&gt;1.创建表&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TABLE customers(&lt;/span&gt;
&lt;span class="code-line"&gt;   cust_id int NOT NULL AUTO_INCREMENT,&lt;/span&gt;
&lt;span class="code-line"&gt;   cust_name char(50) NOT NULL,&lt;/span&gt;
&lt;span class="code-line"&gt;   vend_city char(50) NULL,&lt;/span&gt;
&lt;span class="code-line"&gt;   quantity int NOT NULL DEFAULT 1,&lt;/span&gt;
&lt;span class="code-line"&gt;   PRIMARY KEY(cust_id)&lt;/span&gt;
&lt;span class="code-line"&gt;)ENGINE=InnoDB&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.更新表&lt;/p&gt;
&lt;p&gt;加字段&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ALTER TABLE vendors&lt;/span&gt;
&lt;span class="code-line"&gt; ADD vend_phone CHAR(20)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;删除某个字段&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ALTER TABLE tb1 DROP COLUMN names;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;改变列类型&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ALTER TABLE infos CHANGE list list tinyint NOT NULL DEFAULT '0'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;加主键&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ALTER TABLE tb1 ADD primary key(id)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;删除一个字段&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ALTER TABLE tb1 DROP field_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;增加自增长主键&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;alter table customers change id id not null auto_increment primary key;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;增加新字段并设置为主键&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Alter TABLE tablename ADD new_field_id int(5) default 0 not null auto_increment ADD primary key(new_field_id)&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ALTER TABLE example ADD ID INT NOT NULL;&lt;/span&gt;
&lt;span class="code-line"&gt;ALTER TABLE example ADD UNIQUE(url)&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;ALTER TABLE vendors&lt;/span&gt;
&lt;span class="code-line"&gt; DROP COLUMN vend_phone&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;alter table syntax:
http://dev.mysql.com/doc/refman/5.1/en/alter-table.html&lt;/p&gt;
&lt;p&gt;3.删除表&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;DROP TABLE customers2;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4.清空表数据&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;DELETE FROM mytable;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;5.重命名表&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;RENAME TABLE customers2 TO customers;&lt;/span&gt;
&lt;span class="code-line"&gt; ALTER TABLE 'oldname' RENAME TO 'newname'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="shi-tu-cao-zuo"&gt;视图操作&lt;/h2&gt;
&lt;p&gt;1.创建视图&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE VIEW productcustomers AS&lt;/span&gt;
&lt;span class="code-line"&gt; SELECT cust_name, cust_contact&lt;/span&gt;
&lt;span class="code-line"&gt; FROM customers, orders, orderitems&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE customers.cust_id = orders.cust_id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.使用视图&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SELECT cust_name, cust_contact&lt;/span&gt;
&lt;span class="code-line"&gt; FROM productcustomers&lt;/span&gt;
&lt;span class="code-line"&gt; WHERE prod_id = ‘TNT2’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="cun-chu-guo-cheng"&gt;存储过程&lt;/h2&gt;
&lt;p&gt;1.创建简单存储过程&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE PROCEDURE productpricing()&lt;/span&gt;
&lt;span class="code-line"&gt; BEGIN&lt;/span&gt;
&lt;span class="code-line"&gt;SELECT Avg(price) AS priceavg&lt;/span&gt;
&lt;span class="code-line"&gt;FROM products;&lt;/span&gt;
&lt;span class="code-line"&gt; END;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;调用:CALL productpricing()&lt;/p&gt;
&lt;p&gt;2.删除存储过程&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;DROP PROCEDURE productpricing&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.使用参数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE PROCEDURE ordertotal(&lt;/span&gt;
&lt;span class="code-line"&gt;IN onumber INT,&lt;/span&gt;
&lt;span class="code-line"&gt;OUT ototal DECIMAL(8,2)&lt;/span&gt;
&lt;span class="code-line"&gt;)&lt;/span&gt;
&lt;span class="code-line"&gt;BEGIN&lt;/span&gt;
&lt;span class="code-line"&gt;SELECT Sum(item_price*quality)&lt;/span&gt;
&lt;span class="code-line"&gt;FROM orderitems&lt;/span&gt;
&lt;span class="code-line"&gt;WHERE order_num = onumber&lt;/span&gt;
&lt;span class="code-line"&gt;INTO ototal;&lt;/span&gt;
&lt;span class="code-line"&gt;END;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;调用:&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CALL ordertotal(200005, @total;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;SELECT @total;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.检查存储过程&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SHOW CREATE PROCEDURE ordertotal;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="you-biao"&gt;游标&lt;/h2&gt;
&lt;p&gt;1.创建游标&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE PROCEDURE processorders()&lt;/span&gt;
&lt;span class="code-line"&gt; BEGIN&lt;/span&gt;
&lt;span class="code-line"&gt;DECLARE ordernumbers CURSOR&lt;/span&gt;
&lt;span class="code-line"&gt;FOR&lt;/span&gt;
&lt;span class="code-line"&gt;SELECT order_number FROM orders;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;BEGIN ordernumbers;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;FETCH ordernumbers INTO o;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;CLOSE ordernumbers;&lt;/span&gt;
&lt;span class="code-line"&gt; END;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;DECLARE CONTINUE HANDLER FOR SQLSTATE ‘02000’ SET done=1;&lt;/span&gt;
&lt;span class="code-line"&gt;REPEAT&lt;/span&gt;
&lt;span class="code-line"&gt;    FETCH ordernumbers INTO o;&lt;/span&gt;
&lt;span class="code-line"&gt;END;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="hong-fa-qi"&gt;触发器&lt;/h2&gt;
&lt;p&gt;1.创建触发器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TRIGGER newproduct AFTER INSERT ON products&lt;/span&gt;
&lt;span class="code-line"&gt; FOR EACH ROW SELECT ‘Product added’&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.删除触发器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;DROP TRIGGER newproduct;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.INSERT触发器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TRIGGER neworder AFTER INSERT ON orders&lt;/span&gt;
&lt;span class="code-line"&gt; FOR EACH ROW SELECT NEW.order_num&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4.DELETE触发器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TRIGGER deleteorder BEFORE DELETE ON orders&lt;/span&gt;
&lt;span class="code-line"&gt; FOR EACH ROW&lt;/span&gt;
&lt;span class="code-line"&gt; BEGIN&lt;/span&gt;
&lt;span class="code-line"&gt;INSERT INTO archive_orders(order_num, order_date, cust_id)&lt;/span&gt;
&lt;span class="code-line"&gt;VALUES(OLD.order_num, OLD.order_date, OLD.cust_id);&lt;/span&gt;
&lt;span class="code-line"&gt; END;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;5.UPDATE触发器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;CREATE TRIGGER updatevendor BEFORE UPDATE ON vendors&lt;/span&gt;
&lt;span class="code-line"&gt; FOR EACH ROW SET NEW.vend_state = Upper(NEW.vend_state);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="shi-wu"&gt;事务&lt;/h2&gt;
&lt;p&gt;基本概念&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;ACID&lt;/span&gt;
&lt;span class="code-line"&gt;A,原子性，食物是一个原子操作单元，其对数据的修改，要么全执行，要么全不执行&lt;/span&gt;
&lt;span class="code-line"&gt;C.一致性，事务开始和完成的时候，数据必须都保持一致状态（所有相关数据规则和内部数据结构）&lt;/span&gt;
&lt;span class="code-line"&gt;I.隔离性，保证事务不受外部并发操作影响，即事务处理中间过程状态对外不可见&lt;/span&gt;
&lt;span class="code-line"&gt;D.持久性，事务完成后，对数据修改时永久性的，及时出现系统故障也能够保持&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;1.事务&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;START TRANSACTION&lt;/span&gt;
&lt;span class="code-line"&gt; DELETE FROM ordertotals;&lt;/span&gt;
&lt;span class="code-line"&gt; SELECT * FROM ordertotals;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;ROLLBACK&lt;/span&gt;
&lt;span class="code-line"&gt;回退&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;COMMIT&lt;/span&gt;
&lt;span class="code-line"&gt;提交&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.设立保留点&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;SAVEPOINT delete1;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;ROLLBACK TO delete1;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="dao-ru-dao-chu"&gt;导入导出&lt;/h2&gt;
&lt;p&gt;1.导入&lt;/p&gt;
&lt;p&gt;用文本形式插入数据&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;LOAD&lt;/span&gt; &lt;span class="nt"&gt;DATA&lt;/span&gt; &lt;span class="nt"&gt;LOCAL&lt;/span&gt; &lt;span class="nt"&gt;INFILE&lt;/span&gt; &lt;span class="s1"&gt;'d:/mysql.txt'&lt;/span&gt; &lt;span class="nt"&gt;INTO&lt;/span&gt; &lt;span class="nt"&gt;TABLE&lt;/span&gt; &lt;span class="nt"&gt;mytable&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;导入.sql&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;use database;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;source d:/mysql.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;从另外一张表往这张表插入&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;INSERT INTO tab1(f1,f2)&lt;/span&gt;
&lt;span class="code-line"&gt;SELECT a.f1, a.f2&lt;/span&gt;
&lt;span class="code-line"&gt;FROM a WHERE a.f1='a'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.备份&lt;/p&gt;
&lt;p&gt;导出要用到MySQL的mysqldump工具，基本用法是：&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump [OPTIONS] database [tables]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;备份MySQL数据库的命令&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -hhostname -uusername -ppassword databasename &amp;gt; backupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;备份MySQL数据库为带删除表的格式，能够让该备份覆盖已有数据库而不需要手动删除原有数据库。&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -–add-drop-table -uusername -ppassword databasename &amp;gt; backupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;直接将MySQL数据库压缩备份&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -hhostname -uusername -ppassword databasename | gzip &amp;gt; backupfile.sql.gz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;备份MySQL数据库某个(些)表&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -hhostname -uusername -ppassword databasename specific_table1 specific_table2 &amp;gt; backupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同时备份多个MySQL数据库&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -hhostname -uusername -ppassword –databases databasename1 databasename2 databasename3 &amp;gt; multibackupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;仅仅备份数据库结构&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump –no-data –databases databasename1 databasename2 databasename3 &amp;gt; structurebackupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;备份服务器上所有数据库&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump –all-databases &amp;gt; allbackupfile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;还原&lt;/p&gt;
&lt;p&gt;还原MySQL数据库的命令&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysql -hhostname -uusername -ppassword databasename &amp;lt; backupfile.sql&lt;/span&gt;
&lt;span class="code-line"&gt;mysql -hhostname -ppassword databasename tablename &amp;lt; backuptablefile.sql&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;还原压缩的MySQL数据库&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;gunzip &amp;lt; backupfile.sql.gz | mysql -uusername -ppassword databasename&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;将数据库转移到新服务器&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mysqldump -uusername -ppassword databasename | mysql –host=*.*.*.* -C databasename&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;将查询结果导入外部文件&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;SELECT a,b,a+b &lt;/span&gt;
&lt;span class="code-line"&gt;FROM test_table&lt;/span&gt;
&lt;span class="code-line"&gt;INTO OUTFILE '/tmp/result.txt'&lt;/span&gt;
&lt;span class="code-line"&gt;FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'&lt;/span&gt;
&lt;span class="code-line"&gt;LINES TERMINATED BY '\n'&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;或者&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mysql -u you -p -e "SELECT ..." &amp;gt;  file_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="xing-neng-yan-jiu"&gt;性能研究&lt;/h2&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1.什么情况下无法使用索引？&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="shi-shi-jian-kong"&gt;实时监控&lt;/h2&gt;
&lt;p&gt;查看mysql数据库的当前连接数&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;命令： show processlist;&lt;/span&gt;
&lt;span class="code-line"&gt;或者 # mysqladmin -uroot -p密码 processlist&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;当前状态&lt;/p&gt;
&lt;div class="monokai"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;命令： show status;&lt;/span&gt;
&lt;span class="code-line"&gt;或者 # mysqladmin -uroot -p密码 status&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="mysql"></category></entry></feed>